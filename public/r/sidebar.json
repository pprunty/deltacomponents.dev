{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "sidebar",
  "type": "registry:component",
  "author": "patrick prunty <https://www.patrickprunty.com>",
  "dependencies": ["@phosphor-icons/react", "clsx", "framer-motion"],
  "files": [
    {
      "path": "registry/layout/sidebar.tsx",
      "content": "\"use client\"\n\nimport React, { memo, useCallback, useState } from \"react\"\nimport type { FC } from \"react\"\nimport type { IconProps } from \"@phosphor-icons/react\"\nimport clsx from \"clsx\"\nimport { motion } from \"framer-motion\"\n\n// Route interface (same as bottom-bar for interchangeability)\ninterface Route {\n  href: string\n  label: string\n  icon: React.ForwardRefExoticComponent<IconProps>\n}\n\n// Animation styles defined inline for maintainability\nconst animationStyles = `\n  @keyframes icon-pulse {\n    0% { transform: scale(1); }\n    50% { transform: scale(1.1); }\n    100% { transform: scale(1); }\n  }\n  .icon-pulse { animation: icon-pulse 0.3s ease-in-out; }\n  .icon-container { transition: transform 0.2s ease-in-out; }\n`\n\ninterface SidebarLogoProps {\n  children?: React.ReactNode\n  className?: string\n}\n\nconst SidebarLogo = memo(({ children, className }: SidebarLogoProps) => {\n  const defaultLogo = (\n    <svg\n      className=\"size-8 fill-foreground dark:fill-foreground transition-colors duration-150 ease-in-out\"\n      width=\"26\"\n      height=\"26\"\n      viewBox=\"0 0 282 308\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n    >\n      <path d=\"M280.438 295.396L152.117 5.66075C151.645 3.87252 150.584 2.32152 149.12 1.29292C147.665 0.264327 145.896 -0.172778 144.147 0.0619372H120.258C118.509 -0.172778 116.74 0.264327 115.285 1.29292C113.821 2.32152 112.76 3.87252 112.288 5.66075L0.780777 295.396C0.171502 296.774 -0.0839596 298.294 0.0241376 299.81C0.132235 301.327 0.603995 302.788 1.40981 304.052C2.2058 305.318 3.30641 306.345 4.58392 307.034C5.87126 307.725 7.30596 308.054 8.75053 307.993H272.92C279.111 307.993 284.86 300.528 280.438 295.396ZM122.469 127.434L177.775 250.605C178.384 252.07 178.65 253.664 178.551 255.257C178.453 256.85 177.991 258.395 177.215 259.765C176.429 261.133 175.358 262.286 174.07 263.128C172.783 263.969 171.329 264.475 169.815 264.602H68.037C66.4941 264.493 64.9807 264.019 63.6246 263.213C62.2685 262.408 61.1089 261.293 60.2146 259.951C59.3204 258.607 58.7307 257.07 58.4752 255.454C58.2197 253.836 58.318 252.18 58.7504 250.605L106.539 127.434C107.266 125.856 108.397 124.525 109.802 123.594C111.207 122.663 112.838 122.169 114.499 122.169C116.17 122.169 117.791 122.663 119.206 123.594C120.612 124.525 121.741 125.856 122.469 127.434Z\" />\n    </svg>\n  )\n\n  return <div className={clsx(\"p-4\", className)}>{children || defaultLogo}</div>\n})\n\nSidebarLogo.displayName = \"SidebarLogo\"\n\ninterface SidebarItemProps {\n  href: string\n  label: string\n  Icon?: React.ForwardRefExoticComponent<IconProps>\n  isActive: boolean\n  showLabels: boolean\n  onItemClick: () => void\n  animationKey: number\n}\n\nconst SidebarItem = memo(\n  ({\n    href,\n    label,\n    Icon,\n    isActive,\n    showLabels,\n    onItemClick,\n    animationKey,\n  }: SidebarItemProps) => {\n    return (\n      <li>\n        <a\n          href={href}\n          className={clsx(\n            \"flex items-center w-full py-3 px-4 rounded-lg transition-colors\",\n            \"hover:bg-accent hover:text-accent-foreground\",\n            isActive\n              ? \"bg-accent text-accent-foreground\"\n              : \"text-muted-foreground\"\n          )}\n          onClick={(e) => {\n            onItemClick()\n          }}\n        >\n          <motion.div\n            key={animationKey}\n            className=\"flex items-center gap-3 w-full\"\n            initial={{ scale: 1 }}\n            animate={isActive ? { scale: [1, 1.1, 1] } : { scale: 1 }}\n            transition={{ duration: 0.3, ease: \"easeInOut\" }}\n          >\n            {Icon && (\n              <motion.div\n                className=\"icon-container\"\n                whileTap={{ scale: 0.95 }}\n                transition={{ duration: 0.1 }}\n              >\n                <Icon\n                  weight={isActive ? \"fill\" : \"regular\"}\n                  className={clsx(\n                    \"w-5 h-5\",\n                    isActive ? \"text-primary\" : \"text-muted-foreground\"\n                  )}\n                />\n              </motion.div>\n            )}\n            {showLabels && (\n              <motion.span\n                className={clsx(\n                  \"text-sm font-medium\",\n                  isActive ? \"text-primary\" : \"text-muted-foreground\"\n                )}\n                initial={{ opacity: 0.8 }}\n                animate={{ opacity: isActive ? 1 : 0.8 }}\n                transition={{ duration: 0.2 }}\n              >\n                {label}\n              </motion.span>\n            )}\n          </motion.div>\n        </a>\n      </li>\n    )\n  }\n)\n\nSidebarItem.displayName = \"SidebarItem\"\n\ninterface SidebarBottomSectionProps {\n  children?: React.ReactNode\n  className?: string\n}\n\nconst SidebarBottomSection = memo(\n  ({ children, className }: SidebarBottomSectionProps) => {\n    if (!children) return null\n\n    return (\n      <div className={clsx(\"p-2 border-t border-border\", className)}>\n        {children}\n      </div>\n    )\n  }\n)\n\nSidebarBottomSection.displayName = \"SidebarBottomSection\"\n\ninterface SidebarProps {\n  routes?: Route[]\n  showLabels?: boolean\n  showBorder?: boolean\n  children?: React.ReactNode\n  className?: string\n}\n\nconst Sidebar: FC<SidebarProps> = memo(function Sidebar({\n  routes = [],\n  showLabels = false,\n  showBorder = false,\n  children,\n  className,\n}) {\n  const [animationKeys, setAnimationKeys] = useState<Record<string, number>>({})\n  const [activeHash, setActiveHash] = useState(\"#home\")\n  const [lastClickedItem, setLastClickedItem] = useState<string | null>(null)\n\n  // Get current hash or default to #home\n  const getCurrentHash = () => {\n    if (typeof window !== \"undefined\") {\n      return window.location.hash || \"#home\"\n    }\n    return \"#home\"\n  }\n\n  // Update active hash based on current location\n  React.useEffect(() => {\n    const updateActiveHash = () => {\n      const hash = getCurrentHash()\n      setActiveHash(hash)\n    }\n\n    // Set initial hash\n    updateActiveHash()\n\n    // Listen for hash changes\n    window.addEventListener(\"hashchange\", updateActiveHash)\n\n    return () => {\n      window.removeEventListener(\"hashchange\", updateActiveHash)\n    }\n  }, [])\n\n  const handleItemClick = useCallback(\n    (href: string) => {\n      setAnimationKeys((prev) => ({\n        ...prev,\n        [href]: (prev[href] || 0) + 1,\n      }))\n\n      // Check if clicking the same item that's already active\n      if (lastClickedItem === href && activeHash === href) {\n        // Scroll to top if clicking the same active item\n        setTimeout(() => {\n          window.scrollTo({\n            top: 0,\n            behavior: \"smooth\",\n          })\n        }, 100)\n      }\n\n      setLastClickedItem(href)\n    },\n    [lastClickedItem, activeHash]\n  )\n\n  return (\n    <>\n      {/* Inline styles for maintainability */}\n      <style jsx>{animationStyles}</style>\n\n      <motion.aside\n        className={clsx(\n          \"absolute left-0 top-0 h-full w-64 flex flex-col bg-background\",\n          \"hidden md:flex\", // Desktop only (opposite of bottom-bar)\n          showBorder && \"border-r border-border\",\n          className\n        )}\n        initial={{ x: -100, opacity: 0 }}\n        animate={{ x: 0, opacity: 1 }}\n        transition={{ duration: 0.3, ease: \"easeOut\" }}\n      >\n        {/* Logo Section */}\n        <SidebarLogo />\n\n        {/* Navigation Items */}\n        <nav className=\"flex-1 px-2\">\n          <ul className=\"space-y-1\">\n            {routes.map(({ href, label, icon: Icon }) => (\n              <SidebarItem\n                key={href}\n                href={href}\n                label={label}\n                Icon={Icon}\n                isActive={activeHash === href}\n                showLabels={showLabels}\n                onItemClick={() => handleItemClick(href)}\n                animationKey={animationKeys[href] || 0}\n              />\n            ))}\n          </ul>\n        </nav>\n\n        {/* Bottom Section */}\n        <SidebarBottomSection>{children}</SidebarBottomSection>\n      </motion.aside>\n    </>\n  )\n})\n\nSidebar.displayName = \"Sidebar\"\n\nexport default Sidebar\nexport { SidebarLogo, SidebarBottomSection }\n",
      "type": "registry:component",
      "target": "/components/delta/layout/sidebar.tsx"
    }
  ]
}
