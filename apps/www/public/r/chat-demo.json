{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "chat-demo",
  "type": "registry:example",
  "registryDependencies": [
    "https://deltacomponents.dev/r/chat.json"
  ],
  "files": [
    {
      "path": "examples/chat-demo.tsx",
      "content": "\"use client\"\n\nimport { useState } from \"react\"\n\nimport {\n  ChatMessage,\n  ChatMessages,\n  ChatOptions,\n  ChatPromptInput,\n} from \"@/registry/delta-ui/delta/chat\"\n\nconst tokens = [\n  \"### Welcome\",\n  \"\\n\\n\",\n  \"This\",\n  \" is\",\n  \" a\",\n  \" **rich\",\n  \" markdown\",\n  \"**\",\n  \" showcase\",\n  \" with\",\n  \" multiple\",\n  \" features.\",\n  \"\\n\\n\",\n  \"---\",\n  \"\\n\\n\",\n  \"## Data Table\",\n  \"\\n\\n\",\n  \"| Name\",\n  \" | Role\",\n  \" | Status\",\n  \" |\",\n  \"\\n\",\n  \"|------|------|--------|\",\n  \"\\n\",\n  \"| Alice\",\n  \" | Engineer\",\n  \" | Active\",\n  \" |\",\n  \"\\n\",\n  \"| Bob\",\n  \" | Designer\",\n  \" | Active\",\n  \" |\",\n  \"\\n\",\n  \"| Carol\",\n  \" | PM\",\n  \" | Active\",\n  \" |\",\n  \"\\n\\n\",\n  \"## Inspiration\",\n  \"\\n\\n\",\n  \"> *Simplicity\",\n  \" is\",\n  \" the\",\n  \" ultimate\",\n  \" sophistication.*\",\n  \"\\n\",\n  \"> â€”\",\n  \" Leonardo\",\n  \" da\",\n  \" Vinci\",\n  \"\\n\\n\",\n  \"## Inline\",\n  \" and\",\n  \" Block\",\n  \" Code\",\n  \"\\n\\n\",\n  \"Use\",\n  \" `let\",\n  \" total\",\n  \" =\",\n  \" items.length`\",\n  \" to\",\n  \" count\",\n  \" elements.\",\n  \"\\n\\n\",\n  \"```\",\n  \"python\",\n  \"\\n\",\n  \"def\",\n  \" greet(name):\",\n  \"\\n\",\n  \"    return\",\n  ' f\"Hello, {name}!\"',\n  \"\\n\",\n  'print(greet(\"World\"))',\n  \"\\n\",\n  \"```\",\n  \"\\n\\n\",\n  \"## Math\",\n  \"\\n\\n\",\n  \"Inline\",\n  \" math:\",\n  \" $a^2\",\n  \" +\",\n  \" b^2\",\n  \" =\",\n  \" c^2$\",\n  \".\",\n  \"\\n\\n\",\n  \"Displayed\",\n  \" equation:\",\n  \"\\n\\n\",\n  \"$\",\n  \"\\n\",\n  \"\\\\int_0^1\",\n  \" x^2\",\n  \" dx\",\n  \" =\",\n  \" \\\\frac{1}{3}\",\n  \"\\n\",\n  \"$\",\n  \"\\n\\n\",\n]\n\nconst models = [\n  { id: \"gpt-4\", name: \"GPT-4\", model: \"GPT-4o\" },\n  { id: \"claude\", name: \"Claude\", model: \"Claude 3.5 Sonnet\" },\n  { id: \"gemini\", name: \"Gemini\", model: \"Gemini Pro\" },\n]\n\nexport default function ChatDemo() {\n  const [messages, setMessages] = useState<ChatMessage[]>([])\n  const [input, setInput] = useState(\"\")\n  const [isLoading, setIsLoading] = useState(false)\n  const [selectedModel, setSelectedModel] = useState<string>(\n    models[0]?.id || \"gpt-4\"\n  )\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault()\n    if (!input.trim() || isLoading) return\n\n    // Add user message\n    const userMessage: ChatMessage = {\n      id: `user-${Date.now()}-${Math.random().toString(36).substring(2, 9)}`,\n      role: \"user\",\n      content: input,\n    }\n\n    setMessages((prev) => [...prev, userMessage])\n    const currentInput = input\n    setInput(\"\")\n    setIsLoading(true)\n\n    try {\n      // Simulate API delay\n      await new Promise((resolve) => setTimeout(resolve, 1000))\n\n      // Return the complete markdown response without streaming\n      const fullContent = tokens.join(\"\")\n      const response = `> **Note**: This is a demo response showing rich markdown rendering with Streamdown.\\n\\n${fullContent}`\n\n      const assistantMessage: ChatMessage = {\n        id: `assistant-${Date.now()}-${Math.random().toString(36).substring(2, 9)}`,\n        role: \"assistant\",\n        content: response,\n        isStreaming: false,\n      }\n\n      setMessages((prev) => [...prev, assistantMessage])\n      setIsLoading(false)\n    } catch (error) {\n      console.error(\"Error getting response:\", error)\n      const errorMessage: ChatMessage = {\n        id: `error-${Date.now()}-${Math.random().toString(36).substring(2, 9)}`,\n        role: \"assistant\",\n        content:\n          \"Sorry, I encountered an error while processing your request. Please try again.\",\n      }\n      setMessages((prev) => [...prev, errorMessage])\n      setIsLoading(false)\n    }\n  }\n\n  const handleFileUpload = (file: File) => {\n    console.log(\"File uploaded:\", file)\n    \n    // Add file message to chat\n    const fileMessage: ChatMessage = {\n      id: `file-${Date.now()}-${Math.random().toString(36).substring(2, 9)}`,\n      role: \"user\",\n      content: `Uploaded: ${file.name}`,\n      file: {\n        name: file.name,\n        type: file.type,\n        url: file.type.startsWith('image/') ? URL.createObjectURL(file) : undefined,\n        size: file.size,\n      },\n    }\n    \n    setMessages((prev) => [...prev, fileMessage])\n  }\n\n  return (\n    <div className=\"max-w-xl min-w-xl\">\n      <div className=\"bg-background flex h-[600px] w-full flex-col rounded-lg border\">\n        <ChatMessages\n          messages={messages}\n          isLoading={isLoading}\n          className=\"w-full\"\n          userAvatar=\"https://patrickprunty.com/icon.webp\"\n        />\n\n        <ChatPromptInput\n          input={input}\n          onInputChange={setInput}\n          onSubmit={handleSubmit}\n          isLoading={isLoading}\n          selectedModel={selectedModel}\n          onModelChange={setSelectedModel}\n          models={models}\n          allowFileUpload={true}\n          onFileUpload={(file) => console.log(\"File uploaded:\", file)}\n        >\n          <ChatOptions>\n            <div className=\"flex items-center justify-between p-2 bg-muted/50 rounded-md\">\n              <span className=\"text-sm text-muted-foreground\">\n                Advanced Chat Demo\n              </span>\n              <span className=\"text-xs text-primary\">With Rich Markdown</span>\n            </div>\n          </ChatOptions>\n        </ChatPromptInput>\n      </div>\n    </div>\n  )\n}\n",
      "type": "registry:example"
    }
  ]
}