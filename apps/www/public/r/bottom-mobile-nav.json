{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "bottom-mobile-nav",
  "type": "registry:block",
  "description": "BottomMobileNav block",
  "registryDependencies": [],
  "files": [
    {
      "path": "blocks/bottom-mobile-nav/page.tsx",
      "content": "\"use client\"\n\nimport { Home, Search, Settings, User } from \"lucide-react\"\n\nimport { BottomMobileNav } from \"@/components/bottom-mobile-nav\"\n\nconst demoNavigationRoutes = [\n  {\n    href: \"#\",\n    label: \"Home\",\n    icon: Home,\n  },\n  {\n    href: \"#search\",\n    label: \"Search\",\n    icon: Search,\n  },\n  {\n    href: \"#settings\",\n    label: \"Settings\",\n    icon: Settings,\n  },\n  {\n    href: \"#profile\",\n    label: \"Profile\",\n    icon: User,\n  },\n]\n\nexport default function BottomMobileNavPage() {\n  return (\n    <div className=\"bg-background flex min-h-screen w-full items-center justify-center\">\n      {/* Centered content */}\n      <div className=\"max-w-2xl space-y-6 px-6 text-center\">\n        <h1 className=\"font-heading text-4xl font-bold\">BottomMobileNav</h1>\n        <p className=\"text-muted-foreground text-lg leading-relaxed\">\n          ⚠️ This is a mobile-first navigation component designed for touch\n          interactions on mobile devices. To experience the full functionality\n          and see the navigation bar in action, please view this component on a\n          mobile screen or use your browser's device emulation tools. The bottom\n          navigation will appear fixed at the bottom of your screen with smooth\n          animations and interactive states.\n        </p>\n      </div>\n\n      {/* Navigation without center button and no border */}\n      <BottomMobileNav\n        routes={demoNavigationRoutes}\n        labels={false}\n        className=\"bg-background border-none\"\n      />\n    </div>\n  )\n}\n",
      "type": "registry:page",
      "target": "app/bottom-mobile-nav/page.tsx"
    },
    {
      "path": "blocks/bottom-mobile-nav/components/bottom-mobile-nav.tsx",
      "content": "\"use client\"\n\nimport * as React from \"react\"\nimport Link from \"next/link\"\nimport { usePathname } from \"next/navigation\"\nimport { Plus } from \"lucide-react\"\nimport { motion } from \"motion/react\"\n\nimport { cn } from \"@/lib/utils\"\n\ninterface Route {\n  href: string\n  label: string\n  icon: React.ComponentType<{ className?: string }>\n}\n\ninterface BarItemProps {\n  href: string\n  label: string\n  Icon?: React.ComponentType<{ className?: string }>\n  isActive: boolean\n  labels: boolean\n  onItemClick: (href: string) => void\n}\n\nconst BarItem = React.memo<BarItemProps>(\n  ({ href, label, Icon, isActive, labels, onItemClick }) => {\n    return (\n      <li className=\"flex-1\">\n        <Link\n          href={href}\n          className={cn(\n            \"flex h-full w-full flex-col items-center justify-center px-1 transition-colors duration-150\",\n            labels ? \"py-2\" : \"py-4\"\n          )}\n          onClick={() => onItemClick(href)}\n        >\n          <div className=\"flex flex-col items-center\">\n            {Icon && (\n              <div className=\"transform transition-transform duration-150 active:scale-95\">\n                <Icon\n                  className={cn(\n                    \"h-7 w-7 transition-colors duration-150\",\n                    isActive ? \"text-primary\" : \"text-muted-foreground\"\n                  )}\n                />\n              </div>\n            )}\n            {labels && (\n              <span\n                className={cn(\n                  \"mt-1.5 text-center text-[10px] leading-tight transition-colors duration-150\",\n                  isActive ? \"text-primary\" : \"text-muted-foreground\"\n                )}\n              >\n                {label}\n              </span>\n            )}\n          </div>\n        </Link>\n      </li>\n    )\n  }\n)\n\nBarItem.displayName = \"BarItem\"\n\ninterface CenterButtonConfig {\n  onClick: () => void\n  label?: string\n}\n\ninterface CenterButtonProps {\n  onClick: () => void\n  label?: string\n  labels: boolean\n}\n\nconst CenterButton = React.memo<CenterButtonProps>(\n  ({ onClick, label, labels }) => {\n    return (\n      <li className=\"z-10 -mt-5 flex-none\">\n        <button\n          onClick={onClick}\n          className=\"flex flex-col items-center justify-center\"\n          aria-label={label || \"Add\"}\n        >\n          <div className=\"flex flex-col items-center\">\n            <div className=\"bg-primary rounded-full p-3.5 shadow-lg transition-all duration-150 hover:scale-105 hover:shadow-xl active:scale-95\">\n              <Plus className=\"text-primary-foreground h-6 w-6\" />\n            </div>\n            {labels && label && (\n              <span className=\"text-primary mt-1.5 text-center text-[10px] leading-tight\">\n                {label}\n              </span>\n            )}\n          </div>\n        </button>\n      </li>\n    )\n  }\n)\n\nCenterButton.displayName = \"CenterButton\"\n\ninterface BottomMobileNavProps {\n  routes?: Route[]\n  labels?: boolean\n  centerButton?: CenterButtonConfig\n  enableEntranceAnimation?: boolean\n  className?: string\n}\n\nexport function BottomMobileNav({\n  routes = [],\n  labels = false,\n  centerButton,\n  enableEntranceAnimation = false,\n  className,\n}: BottomMobileNavProps) {\n  const pathname = usePathname()\n  const [lastClickedItem, setLastClickedItem] = React.useState<string | null>(\n    null\n  )\n  const [activeRoute, setActiveRoute] = React.useState<string>(\"\")\n\n  // Optimized route detection with minimal DOM queries\n  React.useEffect(() => {\n    if (routes.length === 0) return\n\n    const updateActiveRoute = () => {\n      const hasHashRoutes = routes.some((route) => route.href.startsWith(\"#\"))\n      let currentRoute = \"\"\n\n      if (hasHashRoutes) {\n        currentRoute = window.location.hash\n        // If no hash, default to first route for hash-based navigation\n        if (!currentRoute && routes.length > 0) {\n          currentRoute = routes[0].href\n        }\n      } else {\n        currentRoute = pathname\n      }\n\n      setActiveRoute(currentRoute || routes[0]?.href || \"\")\n    }\n\n    updateActiveRoute()\n\n    // Use single event listener for both hash and navigation changes\n    const handleRouteChange = () => updateActiveRoute()\n\n    window.addEventListener(\"hashchange\", handleRouteChange, { passive: true })\n    window.addEventListener(\"popstate\", handleRouteChange, { passive: true })\n\n    return () => {\n      window.removeEventListener(\"hashchange\", handleRouteChange)\n      window.removeEventListener(\"popstate\", handleRouteChange)\n    }\n  }, [routes, pathname])\n\n  // Additional effect to handle initial hash on client-side hydration\n  React.useEffect(() => {\n    if (\n      typeof window !== \"undefined\" &&\n      routes.some((route) => route.href.startsWith(\"#\"))\n    ) {\n      const initialHash = window.location.hash\n      if (initialHash) {\n        setActiveRoute(initialHash)\n      }\n    }\n  }, [])\n\n  // Optimized click handler with minimal state updates\n  const handleItemClick = React.useCallback(\n    (href: string) => {\n      // Scroll to top optimization for same active item\n      if (lastClickedItem === href && activeRoute === href) {\n        // Use requestAnimationFrame for smooth scroll timing\n        requestAnimationFrame(() => {\n          window.scrollTo({\n            top: 0,\n            behavior: \"smooth\",\n          })\n        })\n      }\n      setLastClickedItem(href)\n    },\n    [lastClickedItem, activeRoute]\n  )\n\n  const handleCenterButtonClick = React.useCallback(() => {\n    centerButton?.onClick()\n  }, [centerButton])\n\n  // Optimized route splitting with useMemo\n  const { firstHalf, secondHalf } = React.useMemo(() => {\n    const halfLength = Math.ceil(routes.length / 2)\n    return {\n      firstHalf: routes.slice(0, halfLength),\n      secondHalf: routes.slice(halfLength),\n    }\n  }, [routes])\n\n  // Conditional motion props to avoid unnecessary animations\n  const motionProps = enableEntranceAnimation\n    ? {\n        initial: { y: 100, opacity: 0 },\n        animate: { y: 0, opacity: 1 },\n        transition: { duration: 0.3 },\n      }\n    : undefined\n\n  return (\n    <motion.nav\n      className={cn(\n        \"fixed right-0 bottom-0 left-0 z-50 block py-1 md:hidden\",\n        \"supports-[backdrop-filter]:bg-background/85 backdrop-blur-lg\",\n        className\n      )}\n      {...motionProps}\n    >\n      <ul className=\"relative flex items-center justify-around\">\n        {centerButton ? (\n          <>\n            {firstHalf.map(({ href, label, icon: Icon }, index) => (\n              <BarItem\n                key={`${label}-${index}`}\n                href={href}\n                label={label}\n                Icon={Icon}\n                isActive={activeRoute === href}\n                labels={labels}\n                onItemClick={handleItemClick}\n              />\n            ))}\n\n            <CenterButton\n              onClick={handleCenterButtonClick}\n              label={centerButton.label}\n              labels={labels}\n            />\n\n            {secondHalf.map(({ href, label, icon: Icon }, index) => (\n              <BarItem\n                key={`${label}-${firstHalf.length + index}`}\n                href={href}\n                label={label}\n                Icon={Icon}\n                isActive={activeRoute === href}\n                labels={labels}\n                onItemClick={handleItemClick}\n              />\n            ))}\n          </>\n        ) : (\n          routes.map(({ href, label, icon: Icon }, index) => (\n            <BarItem\n              key={`${label}-${index}`}\n              href={href}\n              label={label}\n              Icon={Icon}\n              isActive={activeRoute === href}\n              labels={labels}\n              onItemClick={handleItemClick}\n            />\n          ))\n        )}\n      </ul>\n    </motion.nav>\n  )\n}\n",
      "type": "registry:component",
      "target": "components/bottom-mobile-nav.tsx"
    }
  ],
  "meta": {
    "iframeHeight": "600px",
    "container": "",
    "mobile": "component"
  },
  "categories": [
    "layout"
  ]
}