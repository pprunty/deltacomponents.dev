{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "bottom-mobile-nav",
  "type": "registry:block",
  "description": "BottomMobileNav block",
  "registryDependencies": [],
  "files": [
    {
      "path": "blocks/bottom-mobile-nav/page.tsx",
      "content": "\"use client\"\n\nimport React, { memo } from \"react\"\nimport Link from \"next/link\"\nimport { usePathname } from \"next/navigation\"\nimport { Home, Search, Settings, User } from \"lucide-react\"\n\nimport { Icons } from \"@/components/icons\"\nimport { BottomMobileNav } from \"@/components/bottom-mobile-nav\"\nimport {\n  Tooltip,\n  TooltipContent,\n  TooltipTrigger,\n} from \"@/components/ui/tooltip\"\n\n// Routes configuration - shared between mobile and desktop nav\nconst routes = [\n  {\n    href: \"#\",\n    label: \"Home\",\n    icon: Home,\n  },\n  {\n    href: \"#search\",\n    label: \"Search\",\n    icon: Search,\n  },\n  {\n    href: \"#settings\",\n    label: \"Settings\",\n    icon: Settings,\n  },\n  {\n    href: \"#profile\",\n    label: \"Profile\",\n    icon: User,\n  },\n]\n\n// Desktop Sidebar Component\nconst Sidebar = memo(function Sidebar() {\n  const pathname = usePathname()\n\n  return (\n    <nav className=\"bg-background/80 fixed top-0 left-0 z-50 hidden h-screen w-16 flex-col items-center border-r py-3 backdrop-blur-lg md:flex\">\n      {/* Top: Logo section */}\n      <div className=\"mb-8\">\n        <Icons.logo className=\"size-5\" />\n      </div>\n\n      {/* Middle: main nav icons (centered vertically) */}\n      <div className=\"flex flex-1 flex-col items-center justify-center space-y-8\">\n        {routes.map(({ href, icon: Icon, label }) => {\n          const isActive =\n            pathname === href || (href === \"#\" && pathname === \"/\")\n          return (\n            <Tooltip key={href}>\n              <TooltipTrigger asChild>\n                <Link\n                  href={href}\n                  className={`rounded-xl p-2 transition-colors duration-300 ${\n                    isActive\n                      ? \"bg-accent text-accent-foreground\"\n                      : \"text-muted-foreground hover:bg-accent hover:text-accent-foreground\"\n                  } `}\n                >\n                  {Icon && <Icon className=\"h-5 w-5\" />}\n                </Link>\n              </TooltipTrigger>\n              <TooltipContent\n                side=\"right\"\n                className=\"[&_.bg-foreground.fill-foreground]:hidden\"\n              >\n                {label}\n              </TooltipContent>\n            </Tooltip>\n          )\n        })}\n      </div>\n\n      {/* Bottom: placeholder for settings or additional actions */}\n      <div className=\"mt-auto\">\n        {/* You can add theme switcher or other controls here */}\n      </div>\n    </nav>\n  )\n})\n\nSidebar.displayName = \"Sidebar\"\n\nexport default function BottomMobileNavPage() {\n  return (\n    <div className=\"min-h-screen\">\n      {/* Desktop Sidebar */}\n      <Sidebar />\n\n      {/* Main Content */}\n      <main className=\"md:ml-16\">\n        <div className=\"bg-background flex min-h-screen w-full items-center justify-center\">\n          {/* Centered content */}\n          <div className=\"max-w-2xl space-y-6 px-6 text-center\">\n            <h1 className=\"font-heading text-4xl font-bold\">BottomMobileNav</h1>\n            <p className=\"text-muted-foreground text-lg leading-relaxed\">\n              This responsive layout shows a desktop sidebar (on md+ screens)\n              and mobile bottom navigation (on smaller screens). The sidebar\n              displays navigation icons vertically, while the mobile navigation\n              appears at the bottom with smooth transitions.\n            </p>\n          </div>\n        </div>\n      </main>\n\n      {/* Mobile Bottom Navigation */}\n      <BottomMobileNav\n        routes={routes}\n        labels={false}\n        className=\"bg-background/80 border-t backdrop-blur-lg\"\n      />\n    </div>\n  )\n}\n",
      "type": "registry:page",
      "target": "app/bottom-mobile-nav/page.tsx"
    },
    {
      "path": "blocks/bottom-mobile-nav/components/bottom-mobile-nav.tsx",
      "content": "\"use client\"\n\nimport * as React from \"react\"\nimport Link from \"next/link\"\nimport { usePathname } from \"next/navigation\"\nimport { Plus } from \"lucide-react\"\nimport { motion } from \"motion/react\"\n\nimport { cn } from \"@/lib/utils\"\n\ninterface Route {\n  href: string\n  label: string\n  icon: React.ComponentType<{ className?: string }>\n}\n\ninterface BarItemProps {\n  href: string\n  label: string\n  Icon?: React.ComponentType<{ className?: string }>\n  isActive: boolean\n  labels: boolean\n  onItemClick: (href: string) => void\n}\n\nconst BarItem = React.memo<BarItemProps>(\n  ({ href, label, Icon, isActive, labels, onItemClick }) => {\n    return (\n      <li className=\"flex-1\">\n        <Link\n          href={href}\n          className={cn(\n            \"flex h-full w-full flex-col items-center justify-center px-1 transition-colors duration-150\",\n            labels ? \"py-2\" : \"py-4\"\n          )}\n          onClick={() => onItemClick(href)}\n        >\n          <div className=\"flex flex-col items-center\">\n            {Icon && (\n              <div className=\"transform transition-transform duration-150 active:scale-95\">\n                <Icon\n                  className={cn(\n                    \"h-7 w-7 transition-colors duration-150\",\n                    isActive ? \"text-primary\" : \"text-muted-foreground\"\n                  )}\n                />\n              </div>\n            )}\n            {labels && (\n              <span\n                className={cn(\n                  \"mt-1.5 text-center text-[10px] leading-tight transition-colors duration-150\",\n                  isActive ? \"text-primary\" : \"text-muted-foreground\"\n                )}\n              >\n                {label}\n              </span>\n            )}\n          </div>\n        </Link>\n      </li>\n    )\n  }\n)\n\nBarItem.displayName = \"BarItem\"\n\ninterface CenterButtonConfig {\n  onClick: () => void\n  label?: string\n}\n\ninterface CenterButtonProps {\n  onClick: () => void\n  label?: string\n  labels: boolean\n}\n\nconst CenterButton = React.memo<CenterButtonProps>(\n  ({ onClick, label, labels }) => {\n    return (\n      <li className=\"z-10 -mt-5 flex-none\">\n        <button\n          onClick={onClick}\n          className=\"flex flex-col items-center justify-center\"\n          aria-label={label || \"Add\"}\n        >\n          <div className=\"flex flex-col items-center\">\n            <div className=\"bg-primary rounded-full p-3.5 shadow-lg transition-all duration-150 hover:scale-105 hover:shadow-xl active:scale-95\">\n              <Plus className=\"text-primary-foreground h-6 w-6\" />\n            </div>\n            {labels && label && (\n              <span className=\"text-primary mt-1.5 text-center text-[10px] leading-tight\">\n                {label}\n              </span>\n            )}\n          </div>\n        </button>\n      </li>\n    )\n  }\n)\n\nCenterButton.displayName = \"CenterButton\"\n\ninterface BottomMobileNavProps {\n  routes?: Route[]\n  labels?: boolean\n  centerButton?: CenterButtonConfig\n  enableEntranceAnimation?: boolean\n  className?: string\n}\n\nexport function BottomMobileNav({\n  routes = [],\n  labels = false,\n  centerButton,\n  enableEntranceAnimation = false,\n  className,\n}: BottomMobileNavProps) {\n  const pathname = usePathname()\n  const [lastClickedItem, setLastClickedItem] = React.useState<string | null>(\n    null\n  )\n  const [activeRoute, setActiveRoute] = React.useState<string>(\"\")\n\n  // Optimized route detection with minimal DOM queries\n  React.useEffect(() => {\n    if (routes.length === 0) return\n\n    const updateActiveRoute = () => {\n      const hasHashRoutes = routes.some((route) => route.href.startsWith(\"#\"))\n      let currentRoute = \"\"\n\n      if (hasHashRoutes) {\n        currentRoute = window.location.hash\n        // If no hash, default to first route for hash-based navigation\n        if (!currentRoute && routes.length > 0) {\n          currentRoute = routes[0].href\n        }\n      } else {\n        currentRoute = pathname\n      }\n\n      setActiveRoute(currentRoute || routes[0]?.href || \"\")\n    }\n\n    updateActiveRoute()\n\n    // Use single event listener for both hash and navigation changes\n    const handleRouteChange = () => updateActiveRoute()\n\n    window.addEventListener(\"hashchange\", handleRouteChange, { passive: true })\n    window.addEventListener(\"popstate\", handleRouteChange, { passive: true })\n\n    return () => {\n      window.removeEventListener(\"hashchange\", handleRouteChange)\n      window.removeEventListener(\"popstate\", handleRouteChange)\n    }\n  }, [routes, pathname])\n\n  // Additional effect to handle initial hash on client-side hydration\n  React.useEffect(() => {\n    if (\n      typeof window !== \"undefined\" &&\n      routes.some((route) => route.href.startsWith(\"#\"))\n    ) {\n      const initialHash = window.location.hash\n      if (initialHash) {\n        setActiveRoute(initialHash)\n      }\n    }\n  }, [])\n\n  // Optimized click handler with minimal state updates\n  const handleItemClick = React.useCallback(\n    (href: string) => {\n      // Scroll to top optimization for same active item\n      if (lastClickedItem === href && activeRoute === href) {\n        // Use requestAnimationFrame for smooth scroll timing\n        requestAnimationFrame(() => {\n          window.scrollTo({\n            top: 0,\n            behavior: \"smooth\",\n          })\n        })\n      }\n      setLastClickedItem(href)\n    },\n    [lastClickedItem, activeRoute]\n  )\n\n  const handleCenterButtonClick = React.useCallback(() => {\n    centerButton?.onClick()\n  }, [centerButton])\n\n  // Optimized route splitting with useMemo\n  const { firstHalf, secondHalf } = React.useMemo(() => {\n    const halfLength = Math.ceil(routes.length / 2)\n    return {\n      firstHalf: routes.slice(0, halfLength),\n      secondHalf: routes.slice(halfLength),\n    }\n  }, [routes])\n\n  // Conditional motion props to avoid unnecessary animations\n  const motionProps = enableEntranceAnimation\n    ? {\n        initial: { y: 100, opacity: 0 },\n        animate: { y: 0, opacity: 1 },\n        transition: { duration: 0.3 },\n      }\n    : undefined\n\n  return (\n    <motion.nav\n      className={cn(\n        \"fixed right-0 bottom-0 left-0 z-50 block py-1 md:hidden\",\n        \"supports-[backdrop-filter]:bg-background/85 backdrop-blur-lg\",\n        className\n      )}\n      {...motionProps}\n    >\n      <ul className=\"relative flex items-center justify-around\">\n        {centerButton ? (\n          <>\n            {firstHalf.map(({ href, label, icon: Icon }, index) => (\n              <BarItem\n                key={`${label}-${index}`}\n                href={href}\n                label={label}\n                Icon={Icon}\n                isActive={activeRoute === href}\n                labels={labels}\n                onItemClick={handleItemClick}\n              />\n            ))}\n\n            <CenterButton\n              onClick={handleCenterButtonClick}\n              label={centerButton.label}\n              labels={labels}\n            />\n\n            {secondHalf.map(({ href, label, icon: Icon }, index) => (\n              <BarItem\n                key={`${label}-${firstHalf.length + index}`}\n                href={href}\n                label={label}\n                Icon={Icon}\n                isActive={activeRoute === href}\n                labels={labels}\n                onItemClick={handleItemClick}\n              />\n            ))}\n          </>\n        ) : (\n          routes.map(({ href, label, icon: Icon }, index) => (\n            <BarItem\n              key={`${label}-${index}`}\n              href={href}\n              label={label}\n              Icon={Icon}\n              isActive={activeRoute === href}\n              labels={labels}\n              onItemClick={handleItemClick}\n            />\n          ))\n        )}\n      </ul>\n    </motion.nav>\n  )\n}\n",
      "type": "registry:component",
      "target": "components/bottom-mobile-nav.tsx"
    }
  ],
  "meta": {
    "iframeHeight": "800px",
    "container": "",
    "mobile": "component"
  },
  "categories": [
    "layout"
  ]
}