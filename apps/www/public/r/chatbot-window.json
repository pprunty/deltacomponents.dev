{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "chatbot-window",
  "type": "registry:block",
  "description": "Resizable AI chatbot interface with collapsible sidebar",
  "dependencies": [
    "lucide-react"
  ],
  "registryDependencies": [
    "button",
    "avatar",
    "select",
    "textarea",
    "resizable"
  ],
  "files": [
    {
      "path": "blocks/chatbot-window/page.tsx",
      "content": "\"use client\"\n\nimport { ChatbotWindow } from \"@/components/chatbot-window\"\n\nexport default function ChatbotWindowPage() {\n  return (\n    <div className=\"bg-background h-screen w-full\">\n      <ChatbotWindow defaultOpen={true} />\n    </div>\n  )\n}\n",
      "type": "registry:page",
      "target": "app/chatbot-window/page.tsx"
    },
    {
      "path": "blocks/chatbot-window/components/chatbot-window.tsx",
      "content": "\"use client\"\n\nimport { useState } from \"react\"\nimport { Globe, MessageSquare, PanelRightOpen, X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\nimport {\n  ChatMessage,\n  Conversation,\n  ConversationContent,\n  ConversationScrollButton,\n  Message,\n  MessageContent,\n  MessageAvatar,\n  PromptInput,\n  PromptInputTextarea,\n  PromptInputToolbar,\n  PromptInputSubmit,\n  ChatModelSelector,\n  ChatAssistantMessage,\n  ChatWelcome,\n  PromptInputButton,\n} from \"@/registry/delta-ui/delta/chat\"\nimport { Button } from \"@/registry/shadcn/button\"\nimport {\n  ResizableHandle,\n  ResizablePanel,\n  ResizablePanelGroup,\n} from \"@/registry/shadcn/resizable\"\n\n// Mock data for demonstration\nconst mockModels = [\n  {\n    id: \"gpt-4\",\n    name: \"GPT-4\",\n    model: \"GPT-4o\",\n  },\n  {\n    id: \"claude\",\n    name: \"Claude\",\n    model: \"Claude 3.5\",\n  },\n]\n\n// Mock streaming response with streamdown content\nconst mockStreamingResponses = [\n  \"I'd be happy to help you with that! Let me break this down:\\n\\n## Key Points\\n\\n1. **First Point**: This is an important consideration when working with React components.\\n\\n2. **Second Point**: Here's some `code` example:\\n\\n```javascript\\nconst example = () => {\\n  return 'Hello World';\\n};\\n```\\n\\n3. **Third Point**: You can also use **bold text** and *italic text* for emphasis.\\n\\n### Additional Resources\\n\\n- [React Documentation](https://react.dev)\\n- [TypeScript Guide](https://typescriptlang.org)\\n\\nLet me know if you need any clarification on these concepts!\",\n\n  \"Great question! Here's a comprehensive answer:\\n\\n## Understanding the Concept\\n\\nThis is a fundamental concept in modern development. Let me explain:\\n\\n### Code Example\\n\\n```typescript\\ninterface User {\\n  id: string;\\n  name: string;\\n  email: string;\\n}\\n\\nconst createUser = (data: User): Promise<User> => {\\n  return fetch('/api/users', {\\n    method: 'POST',\\n    body: JSON.stringify(data)\\n  }).then(res => res.json());\\n};\\n```\\n\\n### Best Practices\\n\\n1. Always validate your inputs\\n2. Handle errors gracefully\\n3. Use TypeScript for better type safety\\n\\n> **Note**: Remember to always sanitize user input before processing!\\n\\nIs there anything specific you'd like me to elaborate on?\",\n\n  \"Here's a detailed explanation:\\n\\n## Overview\\n\\nThis topic involves several important concepts:\\n\\n### Implementation Steps\\n\\n1. **Setup**: First, initialize your project\\n2. **Configuration**: Configure your settings\\n3. **Implementation**: Write the actual code\\n\\n```bash\\nnpm install your-package\\nnpm run build\\nnpm start\\n```\\n\\n### Common Patterns\\n\\n- Use **hooks** for state management\\n- Implement `error boundaries` for better UX\\n- Consider *performance optimization*\\n\\n| Feature | Benefit | Usage |\\n|---------|---------|-------|\\n| Hooks | State management | `useState`, `useEffect` |\\n| Context | Global state | `createContext` |\\n| Suspense | Loading states | `<Suspense>` |\\n\\nLet me know if you need more specific examples!\",\n]\n\n// Mock API call that simulates streaming\nasync function mockStreamingAPI(\n  message: string,\n  modelId: string\n): Promise<string> {\n  // Simulate API delay\n  await new Promise((resolve) => setTimeout(resolve, 500))\n\n  // Return a random mock response\n  const randomIndex = Math.floor(Math.random() * mockStreamingResponses.length)\n  return mockStreamingResponses[randomIndex]\n}\n\ninterface ChatbotProps {\n  onClose?: () => void\n}\n\nfunction Chatbot({}: ChatbotProps) {\n  const [input, setInput] = useState(\"\")\n  const [selectedModel, setSelectedModel] = useState<string>(\"gpt-4\")\n  const [messages, setMessages] = useState<ChatMessage[]>([])\n  const [isLoading, setIsLoading] = useState(false)\n  const [webSearch, setWebSearch] = useState(false)\n  \n  // Example of previous messages (could be loaded from a database)\n  const previousMessages: ChatMessage[] = []\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault()\n    if (!input.trim() || isLoading) return\n\n    const userMessage: ChatMessage = {\n      id: Date.now().toString(),\n      role: \"user\",\n      content: input,\n    }\n\n    setMessages((prev) => [...prev, userMessage])\n    const currentInput = input\n    setInput(\"\")\n    setIsLoading(true)\n\n    try {\n      // Call mock streaming API\n      const response = await mockStreamingAPI(currentInput, selectedModel)\n\n      const assistantMessage: ChatMessage = {\n        id: (Date.now() + 1).toString(),\n        role: \"assistant\",\n        content: response,\n      }\n\n      setMessages((prev) => [...prev, assistantMessage])\n      setIsLoading(false)\n    } catch (error) {\n      console.error(\"Error getting response:\", error)\n      const errorMessage: ChatMessage = {\n        id: (Date.now() + 1).toString(),\n        role: \"assistant\",\n        content:\n          \"Sorry, I encountered an error while processing your request. Please try again.\",\n      }\n      setMessages((prev) => [...prev, errorMessage])\n      setIsLoading(false)\n    }\n  }\n\n  return (\n    <div className=\"flex h-full flex-col relative\">\n      <Conversation className=\"flex-1\">\n        <ConversationContent>\n          {messages.length === 0 && (\n            <ChatWelcome>\n              <div className=\"bg-primary/10 mx-auto mb-4 flex h-12 w-12 items-center justify-center rounded-full\">\n                <MessageSquare className=\"h-6 w-6 text-primary\" />\n              </div>\n              <h2 className=\"text-lg font-semibold mb-2\">AI Assistant</h2>\n              <p className=\"text-muted-foreground text-sm max-w-sm mx-auto\">\n                Ask me anything! I can help with code, documentation, or general questions.\n              </p>\n            </ChatWelcome>\n          )}\n          \n          {messages.map((message) => {\n            if (message.role === \"user\") {\n              return (\n                <Message key={message.id} from=\"user\">\n                  <div className=\"flex flex-row-reverse gap-3\">\n                    <MessageAvatar \n                      src=\"https://patrickprunty.com/icon.webp\" \n                      name=\"User\" \n                    />\n                    <MessageContent>\n                      <div className=\"bg-primary text-primary-foreground ml-auto max-w-[80%] rounded-lg px-3 py-2\">\n                        <p className=\"text-sm whitespace-pre-wrap\">{message?.content}</p>\n                      </div>\n                    </MessageContent>\n                  </div>\n                </Message>\n              )\n            } else {\n              return (\n                <Message key={message.id} from=\"assistant\">\n                  <ChatAssistantMessage \n                    message={message} \n                    className=\"bg-background border-0 p-0 shadow-none\"\n                  />\n                </Message>\n              )\n            }\n          })}\n\n          {isLoading && (\n            <Message from=\"assistant\">\n              <div className=\"flex gap-3\">\n                <div className=\"w-full\">\n                  <div className=\"flex items-center gap-1\">\n                    <div className=\"bg-muted-foreground h-2 w-2 animate-bounce rounded-full\" />\n                    <div\n                      className=\"bg-muted-foreground h-2 w-2 animate-bounce rounded-full\"\n                      style={{ animationDelay: \"0.1s\" }}\n                    />\n                    <div\n                      className=\"bg-muted-foreground h-2 w-2 animate-bounce rounded-full\"\n                      style={{ animationDelay: \"0.2s\" }}\n                    />\n                  </div>\n                </div>\n              </div>\n            </Message>\n          )}\n        </ConversationContent>\n        <ConversationScrollButton />\n      </Conversation>\n      \n      <PromptInput onSubmit={handleSubmit}>\n        <PromptInputTextarea\n          value={input}\n          onChange={(e) => setInput(e.target.value)}\n          placeholder=\"Ask me anything...\"\n          className=\"bg-background\"\n        />\n        <PromptInputToolbar>\n          <div className=\"flex items-center gap-3\">\n            <PromptInputButton\n              variant={webSearch ? 'default' : 'ghost'}\n              onClick={() => setWebSearch(!webSearch)}\n            >\n              <Globe size={16} />\n              <span>Search</span>\n            </PromptInputButton>\n            <ChatModelSelector\n              selectedModel={selectedModel}\n              onModelChange={setSelectedModel}\n              models={mockModels}\n            />\n          </div>\n        </PromptInputToolbar>\n        <PromptInputSubmit disabled={!input.trim()} isLoading={isLoading} />\n      </PromptInput>\n    </div>\n  )\n}\n\ninterface ChatbotWindowProps extends React.HTMLAttributes<HTMLDivElement> {\n  defaultOpen?: boolean\n}\n\nexport function ChatbotWindow({\n  className,\n  defaultOpen = false,\n  ...props\n}: ChatbotWindowProps) {\n  const [isOpen, setIsOpen] = useState(defaultOpen)\n\n  return (\n    <div className={cn(\"h-screen w-full\", className)} {...props}>\n      <ResizablePanelGroup direction=\"horizontal\" className=\"h-full\">\n        {/* Main content area */}\n        <ResizablePanel defaultSize={isOpen ? 70 : 100} minSize={30}>\n          <div className=\"flex h-full flex-col\">\n            <div className=\"border-b p-4\">\n              <div className=\"flex items-center justify-between\">\n                <h1 className=\"text-2xl font-bold\">Your Application</h1>\n                {!isOpen && (\n                  <Button\n                    onClick={() => setIsOpen(true)}\n                    variant=\"outline\"\n                    size=\"sm\"\n                  >\n                    <MessageSquare className=\"mr-2 h-4 w-4\" />\n                    Open Chat\n                  </Button>\n                )}\n              </div>\n            </div>\n\n            <div className=\"flex flex-1 items-center justify-center p-8\">\n              <div className=\"space-y-4 text-center\">\n                <h2 className=\"text-muted-foreground text-xl font-semibold\">\n                  Welcome to your app\n                </h2>\n                <p className=\"text-muted-foreground\">\n                  {isOpen\n                    ? \"Chat with the AI assistant on the right\"\n                    : \"Click 'Open Chat' to start a conversation with the AI assistant\"}\n                </p>\n              </div>\n            </div>\n          </div>\n        </ResizablePanel>\n\n        {isOpen && (\n          <>\n            <ResizableHandle\n              className=\"group bg-border hover:bg-muted-foreground/20 relative transition-colors\"\n              onClick={() => setIsOpen(false)}\n            >\n              <div className=\"absolute inset-0 z-10 flex items-center justify-center\">\n                <X className=\"text-foreground hover:text-primary h-3 w-3 cursor-pointer transition-colors\" />\n              </div>\n            </ResizableHandle>\n            <ResizablePanel defaultSize={30} minSize={25} maxSize={60}>\n              <div className=\"bg-muted h-full border-l\">\n                <Chatbot onClose={() => setIsOpen(false)} />\n              </div>\n            </ResizablePanel>\n          </>\n        )}\n\n        {/* Collapsed sidebar toggle */}\n        {!isOpen && (\n          <div\n            className=\"border-border relative h-full border-l transition-all duration-200 ease-in-out\"\n            style={{ width: \"40px\" }}\n          >\n            <div className=\"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 transform\">\n              <Button\n                onClick={() => setIsOpen(true)}\n                variant=\"ghost\"\n                size=\"icon\"\n                className=\"bg-background hover:bg-muted text-foreground h-8 w-8 border\"\n                type=\"button\"\n                title=\"Expand Chat Sidebar\"\n              >\n                <PanelRightOpen className=\"h-4 w-4\" aria-hidden=\"true\" />\n              </Button>\n            </div>\n          </div>\n        )}\n      </ResizablePanelGroup>\n    </div>\n  )\n}\n",
      "type": "registry:component",
      "target": "components/chatbot-window.tsx"
    }
  ],
  "meta": {
    "iframeHeight": "800px",
    "container": "w-full h-screen",
    "mobile": "component"
  },
  "categories": [
    "ai-elements"
  ]
}